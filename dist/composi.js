!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.composi={})}(this,function(n){"use strict";var e=function(n){return n?n.key:null};function t(n,e){var t={};for(var o in n)t[o]=n[o];for(var r in e)t[r]=e[r];return t}function o(n,e,o,r,i){var u,l,c,a;"key"!==e&&"onComponentDidMount"!==e&&"onComponentDidUpdate"!==e&&"onComponentWillUnmount"!==e&&("style"===e&&"string"!=typeof o?function(n,e,o,r){for(var i in t(r,o)){var u=null==o||null==o[i]?"":o[i];"-"===i[0]?n[e].setProperty(i,u):n[e][i]=u}}(n,e,o,r):(e=e.toLowerCase(),"classname"===(a=e)&&(a="class"),c=o,"dangerouslysetinnerhtml"===(e=a)&&(n.innerHTML=c),e in n&&"list"!==e&&!i?n[e]="no"==o?"":o:null!=o&&"null"!==o&&"false"!==o&&"no"!==o&&"off"!==o&&("xlink-href"===e?(l=o,(u=n).setAttributeNS("http://www.w3.org/1999/xlink","href",l),u.setAttribute("href",l)):("true"===o&&(o=""),"dangerouslysetinnerhtml"!==e&&n.setAttribute(e,o))),null!=o&&"null"!==o&&"undefined"!==o&&"false"!==o&&"no"!==o&&"off"!==o||n.removeAttribute(e)))}var r=function(n,e,t){n.removeChild(function n(e,t){if(t.props)for(var o=0;o<t.children.length;o++)n(e.childNodes[o],t.children[o]);return e}(e,t)),t&&t.props&&t.props.onComponentDidUnmount&&t.props.onComponentDidUnmount.call(t.props.onComponentDidUnmount,n)};function i(n,e,t,i,u){var l=function n(e,t){var r=void 0;"number"==typeof e&&(e=e.toString()),r="string"==typeof e?document.createTextNode(e):(t=t||"svg"===e.type)?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type);var i=e.props;if(i){for(var u=0;u<e.children.length;u++)r.appendChild(n(e.children[u],t));for(var l in i)o(r,l,i[l],null,t)}return r}(n,e);return t&&(t.insertBefore(l,i),null!=u&&r(t,i,u)),i=l}function u(n,l,c,a,p){if(a!==c){if(null==c||c.type!==a.type)l=i(a,p,n,l,c);else if(null==c.type)l.nodeValue=a;else{!function(n,e,r,i){for(var u in t(e,r))r[u]!==("value"===u||"checked"===u?n[u]:e[u])&&o(n,u,r[u],e[u],i);n.mounted&&r&&r.onComponentDidUpdate&&r.onComponentDidUpdate.call(r.onComponentDidUpdate,e,r,n)}(l,c.props,a.props,p=p||"svg"===a.type);var s={},f={},d=[],m=c.children,h=a.children;!function(n,t,o,r){for(var i=0;i<o.length;i++){t[i]=n.childNodes[i];var u=e(o[i]);null!=u&&(r[u]=[t[i],o[i]])}}(l,d,m,s);for(var v=0,y=0;y<h.length;){var g=e(m[v]),k=e(h[y]);if(f[g])v++;else if(null==k||k!==e(m[v+1]))if(null==k)null==g&&(u(l,d[v],m[v],h[y],p),y++),v++;else{var w=s[k]||[];g===k?(u(l,w[0],w[1],h[y],p),v++):w[0]?u(l,l.insertBefore(w[0],d[v]),w[1],h[y],p):u(l,d[v],null,h[y],p),f[k]=h[y],y++}else null==g&&r(l,d[v],m[v]),v++}!function(n,t,o,i){for(;i<t.length;)null==e(t[i])&&r(n,o[i],t[i]),i++}(l,m,d,v),function(n,e,t){for(var o in e)t[o]||r(n,e[o][0],e[o][1])}(l,s,f)}return l}}function l(n,e){return e?u(e.parentNode,e,e&&e.vnode,n):e=u(null,null,null,n),e.vnode=n,e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a=(function(){function n(n){this.value=n}function e(e){var t,o;function r(t,o){try{var u=e[t](o),l=u.value;l instanceof n?Promise.resolve(l.value).then(function(n){r("next",n)},function(n){r("throw",n)}):i(u.done?"return":"normal",u.value)}catch(n){i("throw",n)}}function i(n,e){switch(n){case"return":t.resolve({value:e,done:!0});break;case"throw":t.reject(e);break;default:t.resolve({value:e,done:!1})}(t=t.next)?r(t.key,t.arg):o=null}this._invoke=function(n,e){return new Promise(function(i,u){var l={key:n,arg:e,resolve:i,reject:u,next:null};o?o=o.next=l:(t=o=l,r(n,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(n){return this._invoke("next",n)},e.prototype.throw=function(n){return this._invoke("throw",n)},e.prototype.return=function(n){return this._invoke("return",n)}}(),function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}),p=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();var s=window&&window.requestAnimationFrame||window&&window.msRequestAnimationFrame||function(n){return setTimeout(n,16)};function f(n){return!Array.isArray(n)&&"object"===(void 0===n?"undefined":c(n))}function d(n,e){if(e.render&&(e.componentShouldUpdate||!e.mounted)){var t=e.state;!0!==n&&n&&(t=n),e.container&&"string"==typeof e.container&&(e.selector=e.container,e.container=document.querySelector(e.container));var o=e.render(t),r=void 0;o&&o.props&&o.props.id&&e.container&&(r=e.container&&e.container.querySelector("#"+o.props.id)),r&&!e.mounted&&r.parentNode.removeChild(r);var i=e.element&&e.element.vnode;if(u=i,c=t,!(a=e)||JSON.stringify(u)!==JSON.stringify(a.render(c))){var u,c,a;if(e.element=l(e.render(t),e.element),!e.mounted)return e.componentWillMount&&e.componentWillMount(),e.container&&1===e.container.nodeType||console.error("The container for a class component is not a valid DOM node. Check the selector provided for the class to make sure it is a valid CSS selector and that the container exists in the DOM. You might be targeting a nonexistent node."),e.container.appendChild(e.element),e.mounted=!0,void(e.componentDidMount&&e.componentDidMount());e.componentWillUpdate&&e.componentWillUpdate(),e.componentDidUpdate&&e.componentDidUpdate()}}}var m=["change","click","dblclick","input","keydown","keypress","keyup","mousedown","mouseleave","mouseout","mouseover","mouseup","pointercancel","pointerdown","pointermove","pointerup","select","submit","touchcancel","touchend","touchmove","touchstart"];var h=(new Date).getTime(),v=function(){function n(e){a(this,n),e||(e={}),this.props=e,this.selector=e.container||"body",e.render&&(this.render=e.render),e.state&&(this.state=e.state),this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element=null,e.componentWillMount&&(this.componentWillMount=e.componentWillMount),e.componentDidMount&&(this.componentDidMount=e.componentDidMount),e.componentWillUpdate&&(this.componentWillUpdate=e.componentWillUpdate),e.componentDidUpdate&&(this.componentDidUpdate=e.componentDidUpdate),e.componentWillUnmount&&(this.componentWillUnmount=e.componentWillUnmount)}return p(n,[{key:"componentWillMount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentDidMount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentWillUpdate",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentDidUpdate",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentWillUnmount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"render",value:function(n){return n}},{key:"setState",value:function(n){!function(n,e){if("function"==typeof n){var o=n.call(e,e.state);o&&(e.state=o)}else if(f(e.state)&&f(n)){var r=e.state;e.state=t(r,n)}else e.state=n}(n,this)}},{key:"update",value:function(n){d(n,this)}},{key:"unmount",value:function(){!function(n){if(n.element){n.componentWillUnmount&&n.componentWillUnmount(),m.map(function(e){n.element.removeEventListener(e,n)}),n.container.removeChild(n.element),n.container=null;for(var e in n)delete n[e];delete n.state,n.update=null,n.unmount=null}}(this)}},{key:"state",get:function(){return this[h]},set:function(n){var e=this;this[h]=n,s(function(){return e.update()})}}]),n}();n.h=function(n,e){for(var t=arguments.length,o=Array(t>2?t-2:0),r=2;r<t;r++)o[r-2]=arguments[r];var i=[],u=[],l=o.length,c=(e=e||{}).key||null;for(delete e.key;l-- >0;)i.push(o[l]);for(;i.length;){var a=i.pop();if(a&&a.pop)for(l=a.length;l--;)i.push(a[l]);else null!=a&&!0!==a&&!1!==a&&u.push(a)}return o=u,"function"==typeof n?n(e||{},u):{type:n,props:e,children:o,key:c}},n.mount=function(n,e,t){if((e="string"==typeof e&&document.querySelector(e))||(e=document.body),Array.isArray(n))throw new function n(){a(this,n),this.message="Cannot insert Fragment tag directly into DOM.",this.toString=function(){return this.message}};var o=l(n);return n.props&&n.props.onComponentDidMount&&n.props.onComponentDidMount.call(n.props.onComponentDidMount,o),o.mounted=!0,t?("string"==typeof t&&(t=document.querySelector(t)),t.nextElementSibling?(t.parentNode.insertBefore(o,t.nextElementSibling),t.parentNode.removeChild(t),o):(t.parentNode.appendChild(o),t.parentNode.removeChild(t),o)):e.appendChild(o)},n.render=function(n,e){return l(n,e)},n.Component=v,n.Fragment=function(n,e){return e},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=composi.js.map
