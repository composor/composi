!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.composi={})}(this,function(n){"use strict";var e=function(n){return n?n.key:null};function t(n,e){var t={};for(var o in n)t[o]=n[o];for(var r in e)t[r]=e[r];return t}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=(function(){function n(n){this.value=n}function e(e){var t,o;function r(t,o){try{var u=e[t](o),l=u.value;l instanceof n?Promise.resolve(l.value).then(function(n){r("next",n)},function(n){r("throw",n)}):i(u.done?"return":"normal",u.value)}catch(n){i("throw",n)}}function i(n,e){switch(n){case"return":t.resolve({value:e,done:!0});break;case"throw":t.reject(e);break;default:t.resolve({value:e,done:!1})}(t=t.next)?r(t.key,t.arg):o=null}this._invoke=function(n,e){return new Promise(function(i,u){var l={key:n,arg:e,resolve:i,reject:u,next:null};o?o=o.next=l:(t=o=l,r(n,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(n){return this._invoke("next",n)},e.prototype.throw=function(n){return this._invoke("throw",n)},e.prototype.return=function(n){return this._invoke("return",n)}}(),function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}),i=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function u(n,e,r,i,u){var l,c,a,p;"key"!==e&&"onComponentDidMount"!==e&&"onComponentDidUpdate"!==e&&"onComponentWillUnmount"!==e&&("style"!==e||"object"!==(void 0===r?"undefined":o(r))||Array.isArray(r)?(e=e.toLowerCase(),"classname"===(p=e)&&(p="class"),a=r,"dangerouslysetinnerhtml"===(e=p)&&(n.innerHTML=a),e in n&&"list"!==e&&!u?n[e]="no"==r?"":r:null!=r&&"null"!==r&&"false"!==r&&"no"!==r&&"off"!==r&&("xlink-href"===e?(c=r,(l=n).setAttributeNS("http://www.w3.org/1999/xlink","href",c),l.setAttribute("href",c)):("true"===r&&(r=""),"dangerouslysetinnerhtml"!==e&&n.setAttribute(e,r))),null!=r&&"null"!==r&&"undefined"!==r&&"false"!==r&&"no"!==r&&"off"!==r||n.removeAttribute(e)):function(n,e,o,r){for(var i in t(r,o)){var u=null==o||null==o[i]?"":o[i];"-"===i[0]?n[e].setProperty(i,u):n[e][i]=u}}(n,e,r,i))}var l=function(n,e,t){n.removeChild(function n(e,t){if(t.props)for(var o=0;o<t.children.length;o++)n(e.childNodes[o],t.children[o]);return e}(e,t)),t&&t.props&&t.props.onComponentDidUnmount&&t.props.onComponentDidUnmount.call(t.props.onComponentDidUnmount,n)};function c(n,e,t,o,r){var i=function n(e,t){var o=void 0;"number"==typeof e&&(e=e.toString()),o="string"==typeof e?document.createTextNode(e):(t=t||"svg"===e.type)?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type);var r=e.props;if(r){for(var i=0;i<e.children.length;i++)o.appendChild(n(e.children[i],t));for(var l in r)u(o,l,r[l],null,t)}return o}(n,e);return t&&(t.insertBefore(i,o),null!=r&&l(t,o,r)),o=i}function a(n,o,r,i,p){if(i!==r){if(null==r||r.type!==i.type)o=c(i,p,n,o,r);else if(null==r.type)o.nodeValue=i;else{!function(n,e,o,r){for(var i in t(e,o))o[i]!==("value"===i||"checked"===i?n[i]:e[i])&&u(n,i,o[i],e[i],r);n.mounted&&o&&o.onComponentDidUpdate&&o.onComponentDidUpdate.call(o.onComponentDidUpdate,e,o,n)}(o,r.props,i.props,p=p||"svg"===i.type);var s={},d={},f=[],m=r.children,h=i.children;!function(n,t,o,r){for(var i=0;i<o.length;i++){t[i]=n.childNodes[i];var u=e(o[i]);null!=u&&(r[u]=[t[i],o[i]])}}(o,f,m,s);for(var v=0,y=0;y<h.length;){var g=e(m[v]),k=e(h[y]);if(d[g])v++;else if(null==k||k!==e(m[v+1]))if(null==k)null==g&&(a(o,f[v],m[v],h[y],p),y++),v++;else{var b=s[k]||[];g===k?(a(o,b[0],b[1],h[y],p),v++):b[0]?a(o,o.insertBefore(b[0],f[v]),b[1],h[y],p):a(o,f[v],null,h[y],p),d[k]=h[y],y++}else null==g&&l(o,f[v],m[v]),v++}!function(n,t,o,r){for(;r<t.length;)null==e(t[r])&&l(n,o[r],t[r]),r++}(o,m,f,v),function(n,e,t){for(var o in e)t[o]||l(n,e[o][0],e[o][1])}(o,s,d)}return o}}function p(n,e){return e?a(e.parentNode,e,e&&e.vnode,n):e=a(null,null,null,n),e.vnode=n,e}var s=window&&window.requestAnimationFrame||window&&window.msRequestAnimationFrame||function(n){return setTimeout(n,16)};function d(n){return!Array.isArray(n)&&"object"===(void 0===n?"undefined":o(n))}function f(n,e){if(e.render&&(e.componentShouldUpdate||!e.mounted)){var t=e.state;!0!==n&&n&&(t=n),e.container&&"string"==typeof e.container&&(e.selector=e.container,e.container=document.querySelector(e.container));var o=e.render(t),r=void 0;o&&o.props&&o.props.id&&e.container&&(r=e.container&&e.container.querySelector("#"+o.props.id)),r&&!e.mounted&&r.parentNode.removeChild(r);var i=e.element&&e.element.vnode;if(u=i,l=t,!(c=e)||JSON.stringify(u)!==JSON.stringify(c.render(l))){var u,l,c;if(e.element=p(e.render(t),e.element),!e.mounted)return e.componentWillMount&&e.componentWillMount(),e.container&&1===e.container.nodeType||console.error("The container for a class component is not a valid DOM node. Check the selector provided for the class to make sure it is a valid CSS selector and that the container exists in the DOM. You might be targeting a nonexistent node."),e.container.appendChild(e.element),e.mounted=!0,void(e.componentDidMount&&e.componentDidMount());e.componentWillUpdate&&e.componentWillUpdate(),e.componentDidUpdate&&e.componentDidUpdate()}}}var m=["change","click","dblclick","input","keydown","keypress","keyup","mousedown","mouseleave","mouseout","mouseover","mouseup","pointercancel","pointerdown","pointermove","pointerup","select","submit","touchcancel","touchend","touchmove","touchstart"];var h=(new Date).getTime(),v=function(){function n(e){r(this,n),e||(e={}),this.props=e,this.selector=e.container||"body",e.render&&(this.render=e.render),e.state&&(this.state=e.state),this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element=null,e.componentWillMount&&(this.componentWillMount=e.componentWillMount),e.componentDidMount&&(this.componentDidMount=e.componentDidMount),e.componentWillUpdate&&(this.componentWillUpdate=e.componentWillUpdate),e.componentDidUpdate&&(this.componentDidUpdate=e.componentDidUpdate),e.componentWillUnmount&&(this.componentWillUnmount=e.componentWillUnmount)}return i(n,[{key:"componentWillMount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentDidMount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentWillUpdate",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentDidUpdate",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentWillUnmount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"render",value:function(n){return n}},{key:"setState",value:function(n){!function(n,e){if("function"==typeof n){var o=n.call(e,e.state);o&&(e.state=o)}else if(d(e.state)&&d(n)){var r=e.state;e.state=t(r,n)}else e.state=n}(n,this)}},{key:"update",value:function(n){f(n,this)}},{key:"unmount",value:function(){!function(n){if(n.element){n.componentWillUnmount&&n.componentWillUnmount(),m.map(function(e){n.element.removeEventListener(e,n)}),n.container.removeChild(n.element),n.container=null;for(var e in n)delete n[e];delete n.state,n.update=null,n.unmount=null}}(this)}},{key:"state",get:function(){return this[h]},set:function(n){var e=this;this[h]=n,s(function(){return e.update()})}}]),n}();n.h=function(n,e){for(var t=arguments.length,o=Array(t>2?t-2:0),r=2;r<t;r++)o[r-2]=arguments[r];var i=[],u=[],l=o.length,c=(e=e||{}).key||null;for(delete e.key;l-- >0;)i.push(o[l]);for(;i.length;){var a=i.pop();if(a&&a.pop)for(l=a.length;l--;)i.push(a[l]);else null!=a&&!0!==a&&!1!==a&&u.push(a)}return o=u,"function"==typeof n?n(e||{},u):{type:n,props:e,children:o,key:c}},n.mount=function(n,e,t){if((e="string"==typeof e&&document.querySelector(e))||(e=document.body),Array.isArray(n))throw new function n(){r(this,n),this.message="Cannot insert Fragment tag directly into DOM.",this.toString=function(){return this.message}};var o=p(n);return n.props&&n.props.onComponentDidMount&&n.props.onComponentDidMount.call(n.props.onComponentDidMount,o),o.mounted=!0,t?("string"==typeof t&&(t=document.querySelector(t)),t.nextElementSibling?(t.parentNode.insertBefore(o,t.nextElementSibling),t.parentNode.removeChild(t),o):(t.parentNode.appendChild(o),t.parentNode.removeChild(t),o)):e.appendChild(o)},n.render=function(n,e){return p(n,e)},n.Component=v,n.Fragment=function(n,e){return e},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=composi.js.map
