!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.composi={})}(this,function(n){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t=(function(){function n(n){this.value=n}function e(e){var t,o;function r(t,o){try{var l=e[t](o),u=l.value;u instanceof n?Promise.resolve(u.value).then(function(n){r("next",n)},function(n){r("throw",n)}):i(l.done?"return":"normal",l.value)}catch(n){i("throw",n)}}function i(n,e){switch(n){case"return":t.resolve({value:e,done:!0});break;case"throw":t.reject(e);break;default:t.resolve({value:e,done:!1})}(t=t.next)?r(t.key,t.arg):o=null}this._invoke=function(n,e){return new Promise(function(i,l){var u={key:n,arg:e,resolve:i,reject:l,next:null};o?o=o.next=u:(t=o=u,r(n,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(n){return this._invoke("next",n)},e.prototype.throw=function(n){return this._invoke("throw",n)},e.prototype.return=function(n){return this._invoke("return",n)}}(),function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}),o=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),r="http://www.w3.org/1999/xlink",i="http://www.w3.org/2000/svg";function l(n,e){var t={};for(var o in n)t[o]=n[o];for(var r in e)t[r]=e[r];return t}var u=window&&window.requestAnimationFrame||window&&window.msRequestAnimationFrame||function(n){return setTimeout(n,16)};function a(n){return!Array.isArray(n)&&"object"===(void 0===n?"undefined":e(n))}var c=function(n){return n?n.key:null};function p(n,t,o,i,u){var a,c,p,s;"key"!==t&&"onComponentDidMount"!==t&&"onComponentDidUpdate"!==t&&"onComponentWillUnmount"!==t&&("style"!==t||"object"!==(void 0===o?"undefined":e(o))||Array.isArray(o)?(t=t.toLowerCase(),"classname"===(s=t)&&(s="class"),p=o,"dangerouslysetinnerhtml"===(t=s)&&(n.innerHTML=p),t in n&&"list"!==t&&!u?n[t]="no"==o?"":o:null!=o&&"null"!==o&&"false"!==o&&"no"!==o&&"off"!==o&&("xlink-href"===t?(c=o,(a=n).setAttributeNS(r,"href",c),a.setAttribute("href",c)):("true"===o&&(o=""),"dangerouslysetinnerhtml"!==t&&n.setAttribute(t,o))),null!=o&&"null"!==o&&"undefined"!==o&&"false"!==o&&"no"!==o&&"off"!==o||n.removeAttribute(t)):function(n,e,t,o){for(var r in l(o,t)){var i=null==t||null==t[r]?"":t[r];"-"===r[0]?n[e].setProperty(r,i):n[e][r]=i}}(n,t,o,i))}var s=function(n,e,t){n.removeChild(function n(e,t){if(t.props)for(var o=0;o<t.children.length;o++)n(e.childNodes[o],t.children[o]);return e}(e,t)),t&&t.props&&t.props.onComponentDidUnmount&&t.props.onComponentDidUnmount.call(t.props.onComponentDidUnmount,n)};function f(n,e,t,o,r){var l=function n(e,t){var o=void 0;"number"==typeof e&&(e=e.toString()),o="string"==typeof e?document.createTextNode(e):(t=t||"svg"===e.type)?document.createElementNS(i,e.type):document.createElement(e.type);var r=e.props;if(r){for(var l=0;l<e.children.length;l++)o.appendChild(n(e.children[l],t));for(var u in r)p(o,u,r[u],null,t)}return o}(n,e);return t&&(t.insertBefore(l,o),null!=r&&s(t,o,r)),o=l}function d(n,e,t,o,r){if(o!==t){if(null==t||t.type!==o.type)e=f(o,r,n,e,t);else if(null==t.type)e.nodeValue=o;else{!function(n,e,t,o){for(var r in l(e,t))t[r]!==("value"===r||"checked"===r?n[r]:e[r])&&p(n,r,t[r],e[r],o);n.mounted&&t&&t.onComponentDidUpdate&&t.onComponentDidUpdate.call(t.onComponentDidUpdate,e,t,n)}(e,t.props,o.props,r=r||"svg"===o.type);var i={},u={},a=[],m=t.children,h=o.children;!function(n,e,t,o){for(var r=0;r<t.length;r++){e[r]=n.childNodes[r];var i=c(t[r]);null!=i&&(o[i]=[e[r],t[r]])}}(e,a,m,i);for(var y=0,v=0;v<h.length;){var g=c(m[y]),b=c(h[v]);if(u[g])y++;else if(null==b||b!==c(m[y+1]))if(null==b)null==g&&(d(e,a[y],m[y],h[v],r),v++),y++;else{var w=i[b]||[];g===b?(d(e,w[0],w[1],h[v],r),y++):w[0]?d(e,e.insertBefore(w[0],a[y]),w[1],h[v],r):d(e,a[y],null,h[v],r),u[b]=h[v],v++}else null==g&&s(e,a[y],m[y]),y++}!function(n,e,t,o){for(;o<e.length;)null==c(e[o])&&s(n,t[o],e[o]),o++}(e,m,a,y),function(n,e,t){for(var o in e)t[o]||s(n,e[o][0],e[o][1])}(e,i,u)}return e}}function m(n,e){return e?d(e.parentNode,e,e&&e.vnode,n):e=d(null,null,null,n),e.vnode=n,e}function h(n,e){if(e.render&&(e.componentShouldUpdate||!e.mounted)){var t=e.state;!0!==n&&n&&(t=n),e.container&&"string"==typeof e.container&&(e.selector=e.container,e.container=document.querySelector(e.container));var o=e.render(t),r=void 0;o&&o.props&&o.props.id&&e.container&&(r=e.container&&e.container.querySelector("#"+o.props.id)),r&&!e.mounted&&r.parentNode.removeChild(r);var i=e.element&&e.element.vnode;if(l=i,u=t,!(a=e)||JSON.stringify(l)!==JSON.stringify(a.render(u))){var l,u,a;if(e.element=m(e.render(t),e.element),!e.mounted)return e.componentWillMount&&e.componentWillMount(),e.container&&1===e.container.nodeType||console.error("The container for a class component is not a valid DOM node. Check the selector provided for the class to make sure it is a valid CSS selector and that the container exists in the DOM. You might be targeting a nonexistent node."),e.container.appendChild(e.element),e.mounted=!0,void(e.componentDidMount&&e.componentDidMount());e.componentWillUpdate&&e.componentWillUpdate(),e.componentDidUpdate&&e.componentDidUpdate()}}}var y=(new Date).getTime(),v=function(){function n(e){t(this,n),e||(e={}),this.props=e,this.selector=e.container||"body",e.render&&(this.render=e.render),e.state&&(this.state=e.state),this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element=null,e.componentWillMount&&(this.componentWillMount=e.componentWillMount),e.componentDidMount&&(this.componentDidMount=e.componentDidMount),e.componentWillUpdate&&(this.componentWillUpdate=e.componentWillUpdate),e.componentDidUpdate&&(this.componentDidUpdate=e.componentDidUpdate),e.componentWillUnmount&&(this.componentWillUnmount=e.componentWillUnmount)}return o(n,[{key:"componentWillMount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentDidMount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentWillUpdate",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentDidUpdate",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"componentWillUnmount",value:function(n){n&&"function"==typeof n&&n.call(n,this)}},{key:"render",value:function(n){return n}},{key:"setState",value:function(n){!function(n,e){if("function"==typeof n){var t=n.call(e,e.state);t&&(e.state=t)}else if(a(e.state)&&a(n)){var o=e.state;e.state=l(o,n)}else e.state=n}(n,this)}},{key:"update",value:function(n){h(n,this)}},{key:"unmount",value:function(){!function(n){if(n.element){n.componentWillUnmount&&n.componentWillUnmount(),n.container.removeChild(n.element),n.container=null;for(var e in n)delete n[e];delete n.state,n.update=null,n.unmount=null}}(this)}},{key:"state",get:function(){return this[y]},set:function(n){var e=this;this[y]=n,u(function(){return e.update()})}}]),n}();n.h=function(n,e){for(var t=arguments.length,o=Array(t>2?t-2:0),r=2;r<t;r++)o[r-2]=arguments[r];var i=[],l=[],u=o.length,a=(e=e||{}).key||null;for(delete e.key;u-- >0;)i.push(o[u]);for(;i.length;){var c=i.pop();if(c&&c.pop)for(u=c.length;u--;)i.push(c[u]);else null!=c&&!0!==c&&!1!==c&&l.push(c)}return o=l,"function"==typeof n?n(e||{},l):{type:n,props:e,children:o,key:a}},n.mount=function(n,e,o){if((e="string"==typeof e&&document.querySelector(e))||(e=document.body),Array.isArray(n))throw new function n(){t(this,n),this.message="Cannot insert Fragment tag directly into DOM.",this.toString=function(){return this.message}};var r=m(n);return n.props&&n.props.onComponentDidMount&&n.props.onComponentDidMount.call(n.props.onComponentDidMount,r),r.mounted=!0,o?("string"==typeof o&&(o=document.querySelector(o)),o.nextElementSibling?(o.parentNode.insertBefore(r,o.nextElementSibling),o.parentNode.removeChild(o),r):(o.parentNode.appendChild(r),o.parentNode.removeChild(o),r)):e.appendChild(r)},n.render=function(n,e){return m(n,e)},n.Component=v,n.Fragment=function(n,e){return e},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=composi.js.map
